<div class="wrapper">
  <div class="wrapper__logo">
    <embed
      src="assets/images/docstream_logo.svg"
      alt="Docstream Logo"
    />
  </div>
  <div class="wrapper__header">
    <h1>Create your account</h1>
    <p>Required fields are marked with <span class="text-danger">● </span></p>
  </div>
  <div class="wrapper__form">
    <app-error [error_message]="error_message"></app-error>
    <form [formGroup]="registrationForm">
      <div class="row">
        <div class="col-lg-4">
          <div class="form_group mb-5">
            <label for="firstName" class="form-label"
              >First Name
              <span>● </span>
            </label>
            <input
              type="text"
              id="firstName"
              class="form-control"
              placeholder="Enter First Name"
              formControlName="FirstName"
              [ngClass]="{
                'is-invalid':
                  (registrationForm.get('FirstName')?.errors &&
                  registrationForm.get('FirstName')?.touched) ||
                  (registrationForm.get('FirstName')?.hasError('required') &&
                    registerFormSubmitted) ||
                  (registrationForm.get('FirstName')?.hasError('firstName') && registerFormSubmitted)
              }"
            />
            <div
              class="invalid-feedback"
              *ngIf="
                registrationForm.get('FirstName')?.hasError('required') &&
                registerFormSubmitted &&
                !registrationForm.get('FirstName')?.hasError('FirstName') &&
                registerFormSubmitted
              "
            >
              Required
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="form_group mb-5">
            <label for="middleName" class="form-label"
              >Middle Name
            </label>
            <input
              type="text"
              id="middleName"
              class="form-control"
              placeholder="Enter Middle Name"
              formControlName="MiddleName"
            />
          </div>
        </div>
        <div class="col-lg-4">
          <div class="form_group mb-5">
            <label for="lastName" class="form-label"
              >Last Name
              <span>● </span>
            </label>
            <input
              type="text"
              id="lastName"
              class="form-control"
              placeholder="Enter Last Name"
              formControlName="LastName"
              [ngClass]="{
                'is-invalid':
                  (registrationForm.get('LastName')?.errors &&
                  registrationForm.get('LastName')?.touched) ||
                  (registrationForm.get('LastName')?.hasError('required') &&
                    registerFormSubmitted) ||
                  (registrationForm.get('LastName')?.hasError('LastName') && registerFormSubmitted)
              }"
            />
            <div
              class="invalid-feedback"
              *ngIf="
                registrationForm.get('LastName')?.hasError('required') &&
                registerFormSubmitted &&
                !registrationForm.get('LastName')?.hasError('LastName') &&
                registerFormSubmitted
              "
            >
              Required
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form_group mb-5">
            <label for="phoneNo" class="form-label"
              >Phone Number
              <span>● </span>
            </label>
            <input
              type="text"
              id="phoneNo"
              class="form-control"
              placeholder="Enter phone number"
              formControlName="PhoneNumber"
              [ngClass]="{
                'is-invalid':
                  (registrationForm.get('PhoneNumber')?.errors &&
                  registrationForm.get('PhoneNumber')?.touched) ||
                  (registrationForm.get('PhoneNumber')?.hasError('required') &&
                    registerFormSubmitted) ||
                  (registrationForm.get('PhoneNumber')?.hasError('PhoneNumber') && registerFormSubmitted)
              }"
            />
            <div
              class="invalid-feedback"
              *ngIf="
                registrationForm.get('PhoneNumber')?.hasError('required') &&
                registerFormSubmitted &&
                !registrationForm.get('PhoneNumber')?.hasError('PhoneNumber') &&
                registerFormSubmitted
              "
            >
              Required
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form_group mb-5">
            <label for="altPhoneNo" class="form-label"
              >Alternate Phone Number
            </label>
            <input
              type="text"
              id="altPhoneNo"
              class="form-control"
              placeholder="Enter alternate phone number"
              formControlName="AlternatePhoneNumber"
            />
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form_group mb-5">
            <label for="email" class="form-label"
              >Personal Email Address
              <span>● </span>
            </label>
            <input
              type="email"
              id="email"
              class="form-control"
              placeholder="Email address"
              formControlName="Email"
              [ngClass]="{
                'is-invalid':
                  (registrationForm.get('Email')?.errors &&
                  registrationForm.get('Email')?.touched) ||
                  (registrationForm.get('Email')?.hasError('required') &&
                    registerFormSubmitted) ||
                  (registrationForm.get('Email')?.hasError('Email') && registerFormSubmitted)
              }"
            />
            <div
              class="invalid-feedback"
              *ngIf="
                registrationForm.get('Email')?.hasError('required') &&
                registerFormSubmitted &&
                !registrationForm.get('Email')?.hasError('Email') &&
                registerFormSubmitted
              "
            >
              Required
            </div>
            <div
              class="invalid-feedback"
              *ngIf="
              registrationForm.get('Email')?.hasError('Email') &&
                registerFormSubmitted
              "
            >
              Enter a valid email
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form_group mb-5">
            <label for="altEmail" class="form-label"
              >Alternate Email Address
            </label>
            <input
              type="email"
              id="altEmail"
              class="form-control"
              placeholder="Enter alternate email address"
              formControlName="AlternateEmail"
              [ngClass]="{
                'is-invalid':
                  (registrationForm.get('AlternateEmail')?.hasError('AlternateEmail') && registerFormSubmitted)
              }"
            />
            <div
              class="invalid-feedback"
              *ngIf="
              registrationForm.get('AlternateEmail')?.hasError('AlternateEmail')
              "
            >
              Enter a valid email
            </div>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="form_group mb-5">
            <label for="OrganizationName" class="form-label"
              >Orghanization Name
            </label>
            <input
              type="text"
              id="organizationName"
              class="form-control"
              placeholder="Enter organization name"
              formControlName="OrganizationName"
            />
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form_group mb-5">
            <label for="password" class="form-label"
              >Password
              <span>● </span>
            </label>
            <div class="position-relative">
              <input
                class="form-control pr-2"
                [type]="showPassword ? 'text' : 'password'"
                placeholder="Enter new password"
                formControlName="Password"
                [ngClass]="{
                  'is-invalid':
                    (registrationForm.get('Password')?.errors &&
                    registrationForm.get('Password')?.touched) ||
                    (registrationForm.get('Password')?.hasError('required') &&
                      registerFormSubmitted) ||
                    (registrationForm.get('Password')?.hasError('Password') && registerFormSubmitted)
                }"
              />
              <i
                class="fa fa-eye-slash click"
                *ngIf="showPassword; else hidePassword"
                (click)="showPassword = !showPassword"
              ></i>
              <ng-template #hidePassword>
                <i
                  class="fa fa-eye click"
                  (click)="showPassword = !showPassword"
                ></i>
              </ng-template>
            </div>
            <div class="text-danger" 
              *ngIf="registrationForm.get('Password')?.invalid &&
              registrationForm.get('Password')?.value != '' 
            ">
              <span>Password must container at least 8 character with one uppercase, one lowercase and one number</span>
            </div>
            <div
              class="text-danger"
              *ngIf="
                registrationForm.get('Password')?.value == ''
              "
            >
              Required
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form_group input-icon mb-5">
            <label for="confirmPassword" class="form-label"
              >Confirm Password
              <span>● </span>
            </label>
            <div class="position-relative">
              <input
                class="form-control pr-2"
                [type]="showConfirmPassword ? 'text' : 'password'"
                placeholder="Re-enter password"
                formControlName="ConfirmPassword"
                [ngClass]="{
                  'is-invalid':
                    registrationForm.errors &&
                    registrationForm.get('ConfirmPassword')?.touched
                }"
              />
              <i
                class="fa fa-eye-slash click"
                *ngIf="showConfirmPassword; else hideConfirmPassword"
                (click)="showConfirmPassword = !showConfirmPassword"
              ></i>
              <ng-template #hideConfirmPassword>
                <i
                  class="fa fa-eye click"
                  (click)="showConfirmPassword = !showConfirmPassword"
                ></i>
              </ng-template>
            </div>
            <div class="text-danger"
              *ngIf="registrationForm.get('Password')?.value !== registrationForm.get('ConfirmPassword')?.value"
            >
              Passwords must match
            </div>
          </div>
        </div>
      </div>

      <div class="row d-flex flex-column-reverse flex-lg-row justify-content-between">
        <div class="col-md-6 order-md-12 wrapper__sign_in">
          <p>Already have an account? <a routerLink="/authentication/login"><span>Sign In</span></a></p>
        </div>
        <button class="col-md-5 order-md-1 btn wrapper__login_btn" (click)="register()">
          <app-loading-button
            [text]="'Create Account'"
            [condition]="isSiginingUp"
          ></app-loading-button>
        </button>
      </div>
    </form>
  </div>
</div>
